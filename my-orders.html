<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>My Orders - Loyal Fashion</title>

<style>
body{font-family:Segoe UI;background:#f4f6f9;margin:0}
.header{background:#000;color:#fff;padding:15px 30px;display:flex;justify-content:space-between;align-items:center}
.order-container{padding:30px}
.order-card{
background:#fff;
padding:15px;
margin-bottom:15px;
border-radius:10px;
display:flex;
align-items:center;
gap:15px;
box-shadow:0 5px 15px rgba(0,0,0,0.05)
}
.order-card img{
width:80px;
height:80px;
object-fit:cover;
border-radius:8px
}
button{
padding:6px 12px;
border:none;
border-radius:5px;
cursor:pointer
}
</style>
</head>
<body>

<div class="header">
<h2>ðŸ“¦ My Orders</h2>
<button onclick="window.location.href='index.html'">Back</button>
</div>

<div class="order-container" id="orderList">
Loading Orders...
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig={
apiKey:"AIzaSyCax6078YpxQU0kHIChQLuEmpLUYXSxQr4",
authDomain:"e-commerce-wepsite.firebaseapp.com",
projectId:"e-commerce-wepsite",
storageBucket:"e-commerce-wepsite.appspot.com",
messagingSenderId:"394408704286",
appId:"1:394408704286:web:9ad690a946b225ab20f10f"
};

firebase.initializeApp(firebaseConfig);
const db=firebase.firestore();
const auth=firebase.auth();

auth.onAuthStateChanged(user=>{
if(!user){
alert("Please Login First");
window.location.href="index.html";
return;
}

db.collection("orders")
.where("user","==",user.email)
.orderBy("createdAt","desc")
.onSnapshot(snapshot=>{

const list=document.getElementById("orderList");
list.innerHTML="";

if(snapshot.empty){
list.innerHTML="<h3>No Orders Found</h3>";
return;
}

snapshot.forEach(doc=>{
const data=doc.data();

list.innerHTML+=`
<div class="order-card">
<img src="${data.imageUrl}">
<div>
<b>${data.productName}</b><br>
â‚¹${data.price}
</div>
</div>`;
});
});
});
</script>

</body>
</html>
